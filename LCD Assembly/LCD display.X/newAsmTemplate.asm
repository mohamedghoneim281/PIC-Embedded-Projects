LIST P=PIC18F458,F=INHX32,N=0,ST=OFF,R=HEX
#include <p18f458.inc>
ORG 0H
 MYREG EQU 0X9
LCD_DATA  EQU PORTB
LCD_CTRL  EQU PORTC
 RS       EQU RC0
 RW       EQU RC1
 EN       EQU RC2
          CLRF TRISB
	  CLRF TRISC
	  BCF  LCD_CTRL,EN
	  CALL LDELAY
	  MOVLW 0X38
	  CALL COMNWRT
	  CALL LDELAY
	  MOVLW 0X0E
	  CALL COMNWRT
	  CALL DELAY
	  MOVLW 0X01
	  CALL COMNWRT
	  CALL DELAY
	  MOVLW 0X06
	  CALL COMNWRT
	  CALL DELAY
	  MOVLW 0X84
	  CALL COMNWRT
	  CALL DELAY
	  MOVLW A'N'
	  CALL DATAWRT
	  CALL DELAY
	  MOVLW A'O'
	  CALL DATAWRT
	  
AGAIN     BTG LCD_CTRL ,0
	  BRA AGAIN
	  
COMNWRT   MOVWF LCD_DATA
	  BCF  LCD_CTRL ,RS
	  BCF  LCD_CTRL ,RW
	  BSF  LCD_CTRL ,EN
	  CALL DELAY
	  BCF  LCD_CTRL ,EN
	  RETURN
DATAWRT   MOVWF LCD_DATA
	  BSF  LCD_CTRL ,RS
	  BCF  LCD_CTRL ,RW
	  BSF  LCD_CTRL ,EN
	  CALL  DELAY
	  BCF  LCD_CTRL ,EN
	  RETURN
	  
LDELAY  MOVLW 0XFF
	MOVWF MYREG
	NOP
	NOP
	NOP
B1	DECF MYREG
	BNZ B1
	RETURN
	
DELAY   MOVLW 0XFF
	MOVWF MYREG
	NOP
	NOP
	NOP
A1	DECF MYREG
	BNZ A1
	RETURN
	
	
	  
	  
          END


